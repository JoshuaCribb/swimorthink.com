<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/icon32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icon16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/iconapple.png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pantspicker - @swimorthink</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .pants-container {
      width: 90%;
      max-width: 700px;
      margin: 0.2rem auto;
      text-align: center;
      position: relative;
      transform: scale(0.85);
      transform-origin: top center;
    }

    .view-picker {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-bottom: 0.3rem;
    }

    .view-picker button {
      padding: 0.5rem 1rem;
      border-radius: 5px;
      border: 1px solid #333;
      background-color: #fff;
      cursor: pointer;
    }

    .view-picker button.active {
      background-color: #6772e5;
      color: #fff;
    }

    .pants-frame {
      width: 100%;
      padding-top: 100%;
      background-image: url('assets/picker.png');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      position: relative;
      border-radius: 10px;
      margin-bottom: 0.3rem;
    }

    .pants-image {
      position: absolute;
      top: 7%;
      left: 15%;
      width: 80%;
      height: 80%;
      object-fit: contain;
    }

    .price {
      font-size: 1.5rem;
      margin: 0.3rem 0;
    }

    .color-picker, .size-picker {
      display: flex;
      justify-content: center;
      gap: 0.4rem;
      margin-bottom: 0.3rem;
      flex-wrap: wrap;
    }

    .color-option {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
      border: 2px solid #333;
    }

    .size-picker button {
      padding: 0.5rem 1rem;
      cursor: pointer;
      border-radius: 5px;
      border: 1px solid #333;
      background-color: #fff;
    }

    #addToCartBtn {
      padding: 0.8rem 1.5rem;
      font-size: 1.2rem;
      background: #6772e5;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    #addToCartBtn:hover {
      background: #5469d4;
    }
  </style>
</head>
<body>
<header>
  <a href="index.html"><img src="assets/logo.gif" class="logo" alt="@swimorthink logo"></a>
  <div class="header-banner"><a href="cart.html">Shopping Cart</a></div>
</header>

<main>
  <div class="pants-container">

    <div class="view-picker" id="viewPicker">
      <button data-view="front" class="active">Front</button>
      <button data-view="back">Back</button>
    </div>

    <div class="pants-frame">
      <img id="pantsImage" class="pants-image" src="assets/pants1/cremefront.png" alt="Pants">
    </div>

    <p class="price" id="pantsPrice">$125</p>

    <div class="color-picker" id="colorPicker">
     <div class="color-option" style="background-color: skyblue;" data-color="Sky" data-src-front="assets/pants1/skyfront.png" data-src-back="assets/pants1/skyback.png" data-preview="assets/pants1/sky.png"></div>
     <div class="color-option" style="background-color: white;" data-color="White" data-src-front="assets/pants1/whitefront.png" data-src-back="assets/pants1/whiteback.png" data-preview="assets/pants1/white.png"></div>
      <div class="color-option" style="background-color: black;" data-color="Black" data-src-front="assets/pants1/blackfront.png" data-src-back="assets/pants1/blackback.png" data-preview="assets/pants1/black.png"></div>
      <div class="color-option" style="background-color: brown;" data-color="Brown" data-src-front="assets/pants1/brownfront.png" data-src-back="assets/pants1/brownback.png" data-preview="assets/pants1/brown.png"></div>
      <div class="color-option" style="background-color: #f5deb3;" data-color="Creme" data-src-front="assets/pants1/cremefront.png" data-src-back="assets/pants1/cremeback.png" data-preview="assets/pants1/creme.png"></div>
       <div class="color-option" style="background-color: purple;" data-color="Purple" data-src-front="assets/pants1/purplefront.png" data-src-back="assets/pants1/purpleback.png" data-preview="assets/pants1/purple.png"></div>
      <div class="color-option" style="background-color: #4b3621;" data-color="Dark Brown" data-src-front="assets/pants1/darkbrownfront.png" data-src-back="assets/pants1/darkbrownback.png" data-preview="assets/pants1/darkbrown.png"></div>
    </div>

    <div class="size-picker" id="sizePicker">
      <button data-size="XS">XS</button>
      <button data-size="S">S</button>
      <button data-size="M" class="active">M</button>
      <button data-size="L">L</button>
      <button data-size="XL">XL</button>
    </div>

    <button id="addToCartBtn">Add to Cart</button>
  </div>
</main>

<footer>
  <p>Â© <span id="year"></span>. All Rights Reserved.</p>
</footer>

<script>
document.getElementById("year").textContent = new Date().getFullYear();

const isLoggedIn = localStorage.getItem("loggedIn") === "true";
const accountLink = document.getElementById("account-link");
if (isLoggedIn) { 
  accountLink.textContent = "My Account"; 
  accountLink.href = "account.html"; 
}

const pantsImage = document.getElementById("pantsImage");
const colorPicker = document.getElementById("colorPicker");
const sizePicker = document.getElementById("sizePicker");
const addToCartBtn = document.getElementById("addToCartBtn");
const viewPicker = document.getElementById("viewPicker");

let selectedColor = "Creme";
let selectedSize = "M";
let selectedView = "front";
let price = 125;


function updatePantsImage() {
  const selectedOption = Array.from(colorPicker.children)
    .find(c => c.dataset.color === selectedColor);
  pantsImage.src = selectedView === "front" 
    ? selectedOption.dataset.srcFront 
    : selectedOption.dataset.srcBack;
}


colorPicker.querySelectorAll(".color-option").forEach(option => {
  option.addEventListener("click", () => {
    selectedColor = option.dataset.color;
    updatePantsImage();
  });
});


sizePicker.querySelectorAll("button").forEach(button => {
  button.addEventListener("click", () => {
    selectedSize = button.dataset.size;
    sizePicker.querySelectorAll("button").forEach(b => { 
      b.style.backgroundColor = "#fff"; 
      b.style.color = "#000"; 
    });
    button.style.backgroundColor = "#6772e5";
    button.style.color = "#fff";
  });
});


viewPicker.querySelectorAll("button").forEach(button => {
  button.addEventListener("click", () => {
    selectedView = button.dataset.view;
    viewPicker.querySelectorAll("button").forEach(b => b.classList.remove("active"));
    button.classList.add("active");
    updatePantsImage();
  });
});


function showToast(message) {
  const toast = document.createElement('div');
  toast.textContent = message;
  toast.style.position = 'fixed';
  toast.style.top = '20px';
  toast.style.left = '50%';
  toast.style.transform = 'translateX(-50%)';
  toast.style.background = '#6772e5';
  toast.style.color = '#fff';
  toast.style.padding = '10px 20px';
  toast.style.borderRadius = '8px';
  toast.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
  toast.style.zIndex = '1000';
  toast.style.opacity = '0';
  toast.style.transition = 'opacity 0.3s';
  document.body.appendChild(toast);

  setTimeout(() => { toast.style.opacity = '1'; }, 50);
  setTimeout(() => { 
    toast.style.opacity = '0'; 
    setTimeout(() => toast.remove(), 300); 
  }, 2000);
}

addToCartBtn.addEventListener("click", () => {
  const selectedOption = Array.from(colorPicker.children)
    .find(c => c.dataset.color === selectedColor);

  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  cart.push({
    name: "Pants",
    color: selectedColor,
    size: selectedSize,
    image: selectedOption.dataset.preview,
    price: price
  });

  localStorage.setItem("cart", JSON.stringify(cart));
  showToast(`${selectedColor} Pants (${selectedSize}) added to cart!`);
});
</script>

</body>
</html>
