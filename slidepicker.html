<!DOCTYPE html>
<html lang="en">
<head>
      <link rel="icon" type="image/png" sizes="32x32" href="/assets/icon32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icon16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/iconapple.png">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>slidespicker - @swimorthink</title>
<link rel="stylesheet" href="style.css" />
<style>
  .picker-container {
    width: 90%;
    max-width: 700px;   
    margin: 0.2rem auto;
    text-align: center;
    position: relative;
    transform: scale(0.85);  
    transform-origin: top center;
  }

  .hat-frame {
    width: 100%;
    padding-top: 100%;
    position: relative;
    border-radius: 10px;
    margin-bottom: 0.3rem;
    background-image: url('assets/picker.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
  }

  .hat-image {
    position: absolute;
    top: 15%;      
    left: 27%;     
    width: 57%;    
    height: 57%;
    object-fit: contain;
  }

  .price {
    font-size: 1.5rem;
    margin: 0.3rem 0;
  }

  .color-picker {
    display: flex;
    justify-content: center;
    gap: 0.4rem;
    margin-bottom: 0.6rem;
  }

  .color-option {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid #333;
  }

  .size-picker {
    margin-bottom: 0.8rem;
  }

  .size-picker label {
    font-size: 1rem;
    margin-right: 0.5rem;
  }

  .size-select {
    padding: 0.4rem 0.6rem;
    font-size: 1rem;
    border-radius: 6px;
    border: 1px solid #333;
    background: #fff;
    cursor: pointer;
  }

  #addToCartBtn {
    padding: 0.8rem 1.5rem;
    font-size: 1.2rem;
    background: #6772e5;
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  }

  #addToCartBtn:hover {
    background: #5469d4;
  }
</style>
</head>
<body>
<header>
  <a href="index.html"><img src="assets/logo.gif" class="logo" alt="@swimorthink logo"></a>
  <div class="header-banner"><a href="cart.html">Shopping Cart</a></div>
</header>

<main>
  <div class="picker-container">
    <div class="hat-frame">
      <img id="hatImage" class="hat-image" src="assets/slides1/gray.png" alt="Slides">
    </div>

    <p class="price" id="hatPrice">$80</p>

    <div class="color-picker" id="colorPicker">
      <div class="color-option" style="background-color: gray;" data-color="Gray" data-src="assets/slides1/gray.png"></div>
      <div class="color-option" style="background-color: skyblue;" data-color="Sky" data-src="assets/slides1/sky.png"></div>
      <div class="color-option" style="background-color: black;" data-color="Black" data-src="assets/slides1/black.png"></div>
    </div>

    <!-- Shoe size selector -->
    <div class="size-picker">
      <label for="sizeSelect">Size (Mens Measurements):</label>
      <select id="sizeSelect" class="size-select">
        <option value="" disabled selected>Select Size</option>
        <option>5</option>
        <option>6</option>
        <option>7</option>
        <option>8</option>
        <option>9</option>
        <option>10</option>
        <option>11</option>
        <option>12</option>
        <option>13</option>
        <option>14</option>
      </select>
    </div>

    <button id="addToCartBtn">Add to Cart</button>
  </div>
</main>

<footer>
  <p>Â© <span id="year"></span>. All Rights Reserved.</p>
</footer>

<script>
document.getElementById("year").textContent = new Date().getFullYear();

const isLoggedIn = localStorage.getItem("loggedIn") === "true";
const accountLink = document.getElementById("account-link");
if (isLoggedIn) { 
  accountLink.textContent = "My Account"; 
  accountLink.href = "account.html"; 
}

const hatImage = document.getElementById("hatImage");
const colorPicker = document.getElementById("colorPicker");
const addToCartBtn = document.getElementById("addToCartBtn");
const sizeSelect = document.getElementById("sizeSelect");

let selectedColor = "Gray";
let price = 65;

function updateHatImage() {
  const selectedOption = Array.from(colorPicker.children)
    .find(c => c.dataset.color === selectedColor);
  hatImage.src = selectedOption.dataset.src;
}

colorPicker.querySelectorAll(".color-option").forEach(option => {
  option.addEventListener("click", () => {
    selectedColor = option.dataset.color;
    updateHatImage();
  });
});

function showToast(message) {
  const toast = document.createElement('div');
  toast.textContent = message;
  toast.style.position = 'fixed';
  toast.style.top = '20px';
  toast.style.left = '50%';
  toast.style.transform = 'translateX(-50%)';
  toast.style.background = '#6772e5';
  toast.style.color = '#fff';
  toast.style.padding = '10px 20px';
  toast.style.borderRadius = '8px';
  toast.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
  toast.style.zIndex = '1000';
  toast.style.opacity = '0';
  toast.style.transition = 'opacity 0.3s';
  document.body.appendChild(toast);

  setTimeout(() => { toast.style.opacity = '1'; }, 50);
  setTimeout(() => { 
    toast.style.opacity = '0'; 
    setTimeout(() => toast.remove(), 300); 
  }, 2000);
}

addToCartBtn.addEventListener("click", () => {
  const selectedOption = Array.from(colorPicker.children)
    .find(c => c.dataset.color === selectedColor);
  const selectedSize = sizeSelect.value;

  if (!selectedSize) {
    showToast("Please select a size first!");
    return;
  }

  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  cart.push({
    name: "Slides",
    color: selectedColor,
    size: selectedSize,
    image: selectedOption.dataset.src,
    price: price
  });

  localStorage.setItem("cart", JSON.stringify(cart));
  showToast(`${selectedColor} Slides (Size ${selectedSize}) added to cart!`);
});
</script>
</body>
</html>
